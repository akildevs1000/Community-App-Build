(window.webpackJsonp=window.webpackJsonp||[]).push([[344],{1689:function(t,e,r){"use strict";r.r(e);var n=r(117),o=r(138),l=r(79),c=r(538),d=r(1584),m=r(1585),f=r(360),_=r(116),v=r(219),h=r(887),O=r(537),x=r(359),j=r(221),w=r(99),k=r(885),y=r(2),D=(r(37),r(57),r(33),{data:function(){var t;return t={previewImage:!1,previewImageSrc:"",cumulativeIndex:1,perPage:10,currentPage:1,totalRowsCount:0,purposeList:[],branchesList:[],id:"",from_menu_filter:"",from_date_filter:"",showFilters:!1,filters:{},isFilter:!1,generateLogsDialog:!1},Object(y.a)(t,"totalRowsCount",0),Object(y.a)(t,"datatable_search_textbox",""),Object(y.a)(t,"datatable_searchById",""),Object(y.a)(t,"filter_employeeid",""),Object(y.a)(t,"snack",!1),Object(y.a)(t,"snackColor",""),Object(y.a)(t,"snackText",""),Object(y.a)(t,"departments",[]),Object(y.a)(t,"Model","Log"),Object(y.a)(t,"endpoint","visitor_logs"),Object(y.a)(t,"from_date",null),Object(y.a)(t,"from_menu",!1),Object(y.a)(t,"to_date",null),Object(y.a)(t,"to_menu",!1),Object(y.a)(t,"payload",{}),Object(y.a)(t,"loading",!0),Object(y.a)(t,"date",null),Object(y.a)(t,"menu",!1),Object(y.a)(t,"loading",!1),Object(y.a)(t,"time_menu",!1),Object(y.a)(t,"log_payload",{user_id:41,device_id:"",date:null,time:null}),Object(y.a)(t,"ids",[]),Object(y.a)(t,"data",[]),Object(y.a)(t,"devices",[]),Object(y.a)(t,"total",0),Object(y.a)(t,"pagination",{current:1,total:0,itemsPerPage:1e3}),Object(y.a)(t,"payloadOptions",{}),Object(y.a)(t,"options",{current:1,total:0,itemsPerPage:10}),Object(y.a)(t,"errors",[]),Object(y.a)(t,"response",""),Object(y.a)(t,"snackbar",!1),Object(y.a)(t,"headers",[{text:"#",align:"left",sortable:!1,key:"UserID",value:"sno",filterable:!0,filterSpecial:!1},{text:"Picture",align:"left",sortable:!1,key:"picture",value:"picture",filterable:!0,filterSpecial:!1},{text:"Device Name",align:"left",sortable:!1,key:"device",value:"device",filterable:!0,filterSpecial:!1},{text:"Time",align:"left",sortable:!1,key:"time",value:"time",filterable:!0,filterSpecial:!1},{text:"Preview",align:"left",sortable:!1,key:"preview",value:"preview",filterable:!0,filterSpecial:!1}]),Object(y.a)(t,"from_date",""),Object(y.a)(t,"to_date",""),t},created:function(){var t=this,dt=new Date,e=dt.getFullYear(),r=dt.getMonth()+1;new Date(dt.getFullYear(),r,0);r=r<10?"0"+r:r,this.from_date="".concat(e,"-").concat(r,"-").concat(dt.getDate()),this.to_date="".concat(e,"-").concat(r,"-").concat(dt.getDate()),this.getDataFromApi(),setInterval((function(){"visitor-unknown"==t.$route.name&&t.getDataFromApi()}),6e4)},methods:{filterAttr:function(data){this.from_date=data.from,this.to_date=data.to,this.getDataFromApi()},popupImage:function(t){this.previewImage=!0,this.previewImageSrc=t.url},getDataFromApi:function(){var t=this,e=(arguments.length>0&&void 0!==arguments[0]||this.endpoint,arguments.length>1&&void 0!==arguments[1]?arguments[1]:""),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";var n=this.options,o=n.sortBy,l=n.sortDesc,c=n.page,d=n.itemsPerPage,m=o?o[0]:"",f=l?l[0]:"";this.payloadOptions={params:{page:c,sortBy:m,sortDesc:f,per_page:d,company_id:this.$auth.user.company_id,from_date:this.from_date}},""!=e&&(this.payloadOptions.params[e]=r),this.loading=!0,this.$axios.get("".concat("get-unknown-visitors-list","?page=").concat(this.options.page),this.payloadOptions).then((function(e){var data=e.data;t.data=data,t.loading=!1}))}}}),I=D,S=r(60),component=Object(S.a)(I,(function(){var t=this,e=t._self._c;return e("div",[e(O.a,{attrs:{justify:"center"}},[e(f.a,{attrs:{persistent:"","max-width":"500px"},model:{value:t.previewImage,callback:function(e){t.previewImage=e},expression:"previewImage"}},[e(o.a,[e(l.d,{staticClass:"popup_background"},[e("span",{staticClass:"headline",attrs:{dense:""}},[t._v("Preview Image ")]),t._v(" "),e(x.a),t._v(" "),e(_.a,{attrs:{dark:"",outlined:""},on:{click:function(e){t.previewImage=!1}}},[t._v("\n            mdi mdi-close-circle\n          ")])],1),t._v(" "),e(l.c,[e("p",{staticClass:"text-center"},[e(v.a,{staticStyle:{height:"auto","text-align":"center",width:"auto"},attrs:{src:t.previewImageSrc}})],1)])],1)],1)],1),t._v(" "),e(O.a,[e(c.a,[e(o.a,{staticClass:"mb-5",attrs:{elevation:"0"}},[e(w.a,{staticClass:"rounded-md",attrs:{dense:"",flat:""}},[e(k.b,[e("span",[t._v(" Un-Known Visitor - Logs")])]),t._v(" "),e(n.a,{staticClass:"ma-0 px-0",attrs:{dense:"","x-small":"",ripple:!1,text:"",title:"Reload"},on:{click:function(e){return t.getDataFromApi()}}},[e(_.a,{staticClass:"ml-2",attrs:{dark:""}},[t._v("mdi mdi-reload")])],1),t._v(" "),e("span",{staticClass:"mt-8 ml-5"},[e(h.a,{ref:"from_menu_filter",attrs:{width:"80px!important","close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(r){var n=r.on,o=r.attrs;return[e(j.a,t._g(t._b({attrs:{width:"80px!important","hide-details":!t.from_date,outlined:"",dense:"",readonly:"",placeholder:"Select Date"},model:{value:t.from_date,callback:function(e){t.from_date=e},expression:"from_date"}},"v-text-field",o,!1),n))]}}]),model:{value:t.from_menu_filter,callback:function(e){t.from_menu_filter=e},expression:"from_menu_filter"}},[t._v(" "),e(m.a,{staticStyle:{height:"350px"},attrs:{"no-title":"",scrollable:""},on:{input:function(e){t.from_menu_filter=!1,t.getDataFromApi()}},model:{value:t.from_date,callback:function(e){t.from_date=e},expression:"from_date"}},[e(x.a),t._v(" "),e(n.a,{attrs:{text:"",color:"primary"},on:{click:function(e){t.from_menu_filter=!1,t.getDataFromApi()}}},[t._v("\n                  Clear\n                ")])],1)],1)],1),t._v(" "),e(x.a)],1),t._v(" "),e(d.a,{staticClass:"elevation-1",attrs:{dense:"",headers:t.headers,items:t.data,"model-value":"data.id",loading:t.loading},scopedSlots:t._u([{key:"item.sno",fn:function(e){var r=e.item;e.index;return[t._v("\n            "+t._s(t.currentPage?(t.currentPage-1)*t.perPage+(t.cumulativeIndex+t.data.indexOf(r)):"-")+"\n          ")]}},{key:"item.UserID",fn:function(r){var n=r.item;return[e("strong",[t._v(" "+t._s(n.UserID?n.UserID:"---"))])]}},{key:"item.picture",fn:function(r){var n=r.item;r.index;return[e(O.a,{attrs:{"no-gutters":""}},[e(c.a,{staticStyle:{padding:"5px","padding-left":"0px",width:"100px","max-width":"100px"}},[e(v.a,{staticStyle:{"border-radius":"10%",height:"auto",width:"100px","max-width":"100px"},attrs:{src:n.url}})],1),t._v(" "),e(c.a,{staticStyle:{padding:"10px"}})],1)]}},{key:"item.device",fn:function(e){var r=e.item;return[t._v("\n            "+t._s(r.device_name)+"\n          ")]}},{key:"item.file",fn:function(e){e.time;return[t._v("\n            "+t._s(t.item.time)+"\n          ")]}},{key:"item.preview",fn:function(r){var o=r.item;return[e(n.a,{staticClass:"primary",on:{click:function(e){return t.popupImage(o)}}},[t._v(" Preview ")])]}}])})],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports},885:function(t,e,r){"use strict";r.d(e,"a",(function(){return c})),r.d(e,"b",(function(){return l}));var n=r(99),o=r(1),l=Object(o.k)("v-toolbar__title"),c=Object(o.k)("v-toolbar__items");n.a}}]);